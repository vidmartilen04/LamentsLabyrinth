<!DOCTYPE html>
	<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.6.2/dist/sweetalert2.all.min.js"></script>
	    <link rel="stylesheet" href="sweetalert2.min.css">
	     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
		<link rel="icon" type="image/x-icon" href="img/Box.ico">
		<link rel="stylesheet" href="css/style.css">
		<style>
			body{
				background-image: url("img/Backgroundv1.png");
				background-position: center center;
				background-repeat: no-repeat;
  				background-attachment: fixed;
				background-size: cover;
				width: 100vw;
    			height: 100vh;
    			position: fixed;
    			padding: 0;
			    margin: 0;
			    top: 0;
			    bottom: 0;
			    left: 0;
			    right: 0;
			}
		</style>
		<title>Lament's Labyrinth</title>
	</head>
	<body onload="begin()">
		<audio id="loadAudio" src="sound/boxStart.mp3"></audio>
		<audio id="inGameAudio" src="sound/InGameAudio.mp3"></audio>
		<audio id="endAudio" src="sound/TheBoxYouOpenedItICame.mp3"></audio>
		
			<script>
				var sample = document.getElementById("loadAudio");
				var sample1 = document.getElementById("inGameAudio");
				var sample2 = document.getElementById("endAudio");

				
				 function begin(){
				 	document.getElementById('canLab').style.visibility = "hidden";
					Swal.fire({
						background: "hsla(20, 51%, 13%)",
						width:600,
						height:400,
		                font: "Cormorant Garamond",
		                title:'Laments Labyrinth',
		                html:"You have stumbled upon an unusual box while walking in the forest.<br> You decide to solve it but be careful something might is lurking in the shadows.<br> Are you up for the challenge? <br>Read the rules and begin the descent",
							showClass: {
		                      popup: 'animate__animated animate__backInUp'
		                      },
		                      hideClass: {
		                      popup: 'animate__animated animate__backOutDown'},
						confirmButtonText: 'Start',
		                confirmButtonColor: "#E8C588",
		                backdrop: `
	                        	hsla(20, 51%, 13%, 0.6)
	                     	 `     
					}).then((result) => {
					  if (result.isConfirmed) {
					    sample.play();
					    sample1.play();
					    document.getElementById('canLab').style.visibility = "visible";
					    setInterval(drawIt, 30);
					    event(draw);
					  } else{
		
					  }
					})

				}
			</script>
			<div id="head">
				<div id="box"><a onclick="credits()"><img id="Instructions" src="img/Box.png"></a></div>
				<div id="title">Lament's Labyrinth</div>
		   </div>
		   <script>
					function credits() {
						Swal.fire({
	                      background: "hsla(20, 51%, 13%)",
	                      font: "Cormorant Garamond",
	                      title: 'Laments Labyrinth',
	                      showClass: {
	                      popup: 'animate__animated animate__backInUp'
	                      },
	                      hideClass: {
	                      popup: 'animate__animated animate__backOutDown'},
	                      text: 'Â© Tilen Vidmar 4. RA',
	                      icon: 'info',
	                      iconColor:"#E8C588",
	                      confirmButtonText: 'Done',
	                      confirmButtonColor: "#E8C588",
	                      backdrop: `
                        	hsla(20, 51%, 13%, 0.6)
                     	 `     
	                })
					}
				</script>
		   <br>
		   <br>
		   <div id="labirint">
		   <canvas id="canLab" width="700" height="700" onclick="">
		   	 <script>
					    
		   	 	var canvas=document.getElementById('canLab');
				var ctx=canvas.getContext('2d');
				var background = new Image();
				background.src = "img/lamentbox.jpg";

				ctx.save();

				ctx.globalAlpha = 0.3;
				ctx.drawImage(background,0,0);

				ctx.restore();
				ctx.scale(2.87,2.87);

				function labirint(){
					
			    //document.getElementById('canLab').style.opacity=1;
				ctx.beginPath();

				//okvir #5
						ctx.lineCap="square";
						ctx.lineWidth=2;
						ctx.moveTo(0,0);
						ctx.lineTo(114,0);
						ctx.moveTo(130,0);
						ctx.lineTo(242,0);
						ctx.moveTo(66,18);
						ctx.lineTo(114,18);
						ctx.moveTo(162,18);
						ctx.lineTo(226,18);
						ctx.moveTo(0,34);
						ctx.lineTo(18,34);
						ctx.moveTo(34,34);
						ctx.lineTo(50,34);
						ctx.moveTo(82,34);
						ctx.lineTo(98,34);
						ctx.moveTo(130,34);
						ctx.lineTo(162,34);
						ctx.moveTo(178,34);
						ctx.lineTo(210,34);
						ctx.moveTo(18,50);
						ctx.lineTo(50,50);
						ctx.moveTo(66,50);
						ctx.lineTo(82,50);
						ctx.moveTo(98,50);
						ctx.lineTo(130,50);
						ctx.moveTo(146,50);
						ctx.lineTo(162,50);
						ctx.moveTo(194,50);
						ctx.lineTo(226,50);
						ctx.moveTo(82,66);
						ctx.lineTo(146,66);
						ctx.moveTo(162,66);
						ctx.lineTo(194,66);
						ctx.moveTo(226,66);
						ctx.lineTo(242,66);
						ctx.moveTo(18,82);
						ctx.lineTo(66,82);
						ctx.moveTo(98,82);
						ctx.lineTo(162,82);
						ctx.moveTo(210,82);
						ctx.lineTo(226,82);
						ctx.moveTo(2,98);
						ctx.lineTo(50,98);
						ctx.moveTo(66,98);
						ctx.lineTo(114,98);
						ctx.moveTo(130,98);
						ctx.lineTo(178,98);
						ctx.moveTo(194,98);
						ctx.lineTo(210,98);
						ctx.moveTo(34,114);
						ctx.lineTo(66,114);
						ctx.moveTo(114,114);
						ctx.lineTo(130,114);
						ctx.moveTo(178,114);
						ctx.lineTo(194,114);
						ctx.moveTo(226,114);
						ctx.lineTo(242,114);
						ctx.moveTo(18,130);
						ctx.lineTo(50,130);
						ctx.moveTo(114,130);
						ctx.lineTo(162,130);
						ctx.moveTo(194,130);
						ctx.lineTo(226,130);
						ctx.moveTo(0,146);
						ctx.lineTo(34,146);
						ctx.moveTo(50,146);
						ctx.lineTo(66,146);
						ctx.moveTo(98,146);
						ctx.lineTo(114,146);
						ctx.moveTo(162,146);
						ctx.lineTo(210,146);
						ctx.moveTo(226,146);
						ctx.lineTo(242,146);
						ctx.moveTo(34,162);
						ctx.lineTo(50,162);
						ctx.moveTo(66,162);
						ctx.lineTo(82,162);
						ctx.moveTo(130,162);
						ctx.lineTo(146,162);
						ctx.moveTo(178,162);
						ctx.lineTo(226,162);
						ctx.moveTo(50,178);
						ctx.lineTo(66,178);
						ctx.moveTo(82,178);
						ctx.lineTo(98,178);
						ctx.moveTo(114,178);
						ctx.lineTo(130,178);
						ctx.moveTo(162,178);
						ctx.lineTo(210,178);
						ctx.moveTo(2,194);
						ctx.lineTo(34,194);
						ctx.moveTo(66,194);
						ctx.lineTo(114,194);
						ctx.moveTo(130,194);
						ctx.lineTo(146,194);
						ctx.moveTo(178,194);
						ctx.lineTo(226,194);
						ctx.moveTo(18,210);
						ctx.lineTo(82,210);
						ctx.moveTo(114,210);
						ctx.lineTo(130,210);
						ctx.moveTo(162,210);
						ctx.lineTo(178,210);
						ctx.moveTo(18,226);
						ctx.lineTo(66,226);
						ctx.moveTo(114,226);
						ctx.lineTo(130,226);
						ctx.moveTo(162,226);
						ctx.lineTo(178,226);
						ctx.moveTo(210,226);
						ctx.lineTo(242,226);
						ctx.moveTo(0,242);
						ctx.lineTo(114,242);
						ctx.moveTo(130,242);
						ctx.lineTo(242,242);
						ctx.moveTo(0,0);
						ctx.lineTo(0,242);
						ctx.moveTo(18,18);
						ctx.lineTo(18,34);
						ctx.moveTo(18,50);
						ctx.lineTo(18,82);
						ctx.moveTo(18,98);
						ctx.lineTo(18,130);
						ctx.moveTo(18,162);
						ctx.lineTo(18,194);
						ctx.moveTo(34,18);
						ctx.lineTo(34,34);
						ctx.moveTo(34,50);
						ctx.lineTo(34,66);
						ctx.moveTo(34,162);
						ctx.lineTo(34,178);
						ctx.moveTo(50,0);
						ctx.lineTo(50,34);
						ctx.moveTo(50,66);
						ctx.lineTo(50,82);
						ctx.moveTo(50,130);
						ctx.lineTo(50,146);
						ctx.moveTo(50,162);
						ctx.lineTo(50,210);
						ctx.moveTo(66,34);
						ctx.lineTo(66,50);
						ctx.moveTo(66,66);
						ctx.lineTo(66,114);
						ctx.moveTo(66,130);
						ctx.lineTo(66,162);
						ctx.moveTo(66,178);
						ctx.lineTo(66,194);
						ctx.moveTo(66,226);
						ctx.lineTo(66,242);
						ctx.moveTo(82,50);
						ctx.lineTo(82,82);
						ctx.moveTo(82,114);
						ctx.lineTo(82,162);
						ctx.moveTo(82,210);
						ctx.lineTo(82,226);
						ctx.moveTo(98,34);
						ctx.lineTo(98,50);
						ctx.moveTo(98,98);
						ctx.lineTo(98,178);
						ctx.moveTo(98,194);
						ctx.lineTo(98,242);
						ctx.moveTo(114,0);
						ctx.lineTo(114,50);
						ctx.moveTo(114,82);
						ctx.lineTo(114,98);
						ctx.moveTo(114,114);
						ctx.lineTo(114,130);
						ctx.moveTo(114,146);
						ctx.lineTo(114,194);
						ctx.moveTo(114,210);
						ctx.lineTo(114,226);
						ctx.moveTo(130,18);
						ctx.lineTo(130,34);
						ctx.moveTo(130,98);
						ctx.lineTo(130,114);
						ctx.moveTo(130,130);
						ctx.lineTo(130,162);
						ctx.moveTo(130,194);
						ctx.lineTo(130,210);
						ctx.moveTo(130,226);
						ctx.lineTo(130,242);
						ctx.moveTo(146,0);
						ctx.lineTo(146,18);
						ctx.moveTo(146,50);
						ctx.lineTo(146,82);
						ctx.moveTo(146,114);
						ctx.lineTo(146,130);
						ctx.moveTo(146,146);
						ctx.lineTo(146,226);
						ctx.moveTo(162,18);
						ctx.lineTo(162,50);
						ctx.moveTo(162,98);
						ctx.lineTo(162,114);
						ctx.moveTo(162,130);
						ctx.lineTo(162,210);
						ctx.moveTo(178,34);
						ctx.lineTo(178,98);
						ctx.moveTo(178,114);
						ctx.lineTo(178,146);
						ctx.moveTo(178,210);
						ctx.lineTo(178,226);
						ctx.moveTo(194,66);
						ctx.lineTo(194,98);
						ctx.moveTo(194,194);
						ctx.lineTo(194,242);
						ctx.moveTo(210,50);
						ctx.lineTo(210,82);
						ctx.moveTo(210,98);
						ctx.lineTo(210,130);
						ctx.moveTo(210,210);
						ctx.lineTo(210,226);
						ctx.moveTo(226,18);
						ctx.lineTo(226,50);
						ctx.moveTo(226,82);
						ctx.lineTo(226,98);
						ctx.moveTo(226,162);
						ctx.lineTo(226,210);
						ctx.moveTo(242,0);
						ctx.lineTo(242,242);
						ctx.closePath();			
							
						ctx.strokeStyle='#E8C588';
						ctx.lineWidth=2;
						ctx.stroke();
				}
					var y = 0;
					var x = 120;
					var nar = 1;
					var dx = 2;
					var dy = 2;
					var play=0;

				    
					
					function drawIt() {
						ctx.fillStyle = "#E8C588";
						if(nar==1){
					
						ctx.fillRect(x,y,6,6);
						
						labirint();

					}else if(nar==2){  
						labirint();
					}
					if(x==120 && y>=0 && y<=8)
					y+=dy;
					if(y==8 && x>=120 && x<=136)
					x+=dx;
					if(x==136 && y>=8 && y<=24)
					y+=dy;
					if(y==24 && x>=136 && x<=152)
					x+=dx;
					if(x==152 && y<=24 && y>=8)
					y-=dy;
					if(y==8 && x>=152 && x<=232)
					x+=dx;
					if(x==232 && y>=8 && y<=55)
					y+=dy;
					if(y==56 && x<=232 && x>=220)
					x-=dx;
					if(x==218 && y>=56 && y<=73)
					y+=dy;
					if(y==72 && x>=218 && x<=231)
					x+=dx;
					if(x==232 && y>=71 && y<=103)
					y+=dy;
					if(y==104 && x<=232 && x>=217)
					x-=dx;
					if(x==216 && y<=104 && y>=89)
					y-=dy;
					if(y==88 && x<=216 && x>=200)
					x-=dx;
					if(x==200 && y<=88 && y>=57)
					y-=dy;
					if(y==56 && x<=200 && x>=185)
					x-=dx;
					if(x==184 && y<=56 && y>=41)
					y-=dy;
					if(y==40 && x>=184 && x<=215)
					x+=dx;
					if(x==216 && y<=40 && y>=24)
					y-=dy;
					if(y==24 && x<=216 && x>=168)
					x-=dx;
					if(x==168 && y>=24 && y<=56)
					y+=dy;
					if(y==56 && x<=168 && x>=152)
					x-=dx;
					if(x==152 && y>=56 && y<=72)
					y+=dy;
					if(y==72 && x>=152 && x<=168)
					x+=dx;
					if(x==168 && y>=72 && y<=88)
					y+=dy;
					if(y==88 && x<=168 && x>=120)
					x-=dx;
					if(x==120 && y>=88 && y<=104)
					y+=dy;
					if(y==104 && x<=120 && x>=104)
					x-=dx;
					if(x==104 && y>=104 && y<=136)
					y+=dy;
					if(y==136 && x>=104 && x<=120)
					x+=dx;
					if(x==120 && y>=136 && y<=168)
					y+=dy;
					if(y==168 && x>=120 && x<=136)
					x+=dx;
					if(x==136 && y>=168 && y<=184)
					y+=dy;
					if(y==184 && x<=136 && x>=120)
					x-=dx;
					if(x==120 && y>=184 && y<=200)
					y+=dy;
					if(y==200 && x<=120 && x>=104)
					x-=dx;
					if(x==104 && y>=200 && y<=232)
					y+=dy;
					if(y==232 && x>=104 && x<=120)
					x+=dx;
					if(x==120 && y>=232 && y<=238)
					y+=dy;
					if(x==120&&y==238){
							x=120;
							y=0;
							play++;
							if (play==1) {
							sample1.pause();
							sample2.loop=false;
							sample2.play();	
						}
					else if(nar==1){
						nar++;

					}
					else{
						ctx.clearRect(x,y,5,5);    
						nar++;
						
					}

				}
				}
				


			</script> 
		   </canvas>
		   </div>
		  </div>


	</body>
	</html>